@model Departure_Management.MVC.Models.ChangePasswordVM
@{
    ViewData["Title"] = "ChangePassword";
}

<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/user/home">Home</a> <i class="fa fa-angle-right"></i> Change Password</li>
</ol>
        
<div class="grid-form1">
    <h3>Change Password</h3>
    <div class="tab-content tab-pane active" id="horizontal-form">
                
        <form asp-action="ChangePassword" class="form-horizontal" id="form-submit">
            <div class="form-group">
                <label asp-for="CurrentPassword" class="col-sm-4 control-label">Current Password :</label>
                <div class="col-sm-6">
                    <input asp-for="CurrentPassword" type="password" id="currentPassword" name="currentPassword" class="form-control1">
                </div>
            </div>
            <div class="form-group">
                <label asp-for="NewPassword" class="col-sm-4 control-label">New Password :</label>
                <div class="col-sm-6">
                    <input asp-for="NewPassword" type="password" id="newPassword" name="newPassword" class="form-control1">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-4 control-label">Re-Enter New Password :</label>
                <div class="col-sm-6">
                    <input type="password" id="reEnterPassword" name="reEnterPassword" class="form-control1">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-8 col-sm-offset-4">
                    <button type="button" class="btn-primary btn" onclick="validateChangePassword()">Change Password</button>
                    <a asp-controller="Home" asp-action="Index"><button type="button" class="btn-default btn">Cancel</button></a>
                </div>
            </div>
        </form>              
                
    </div>
</div>

@section Scripts
{
    <script type="text/javascript">
        function validateChangePassword(){
            var currentPassword = document.getElementById('currentPassword').value;
            var newPassword = document.getElementById('newPassword').value;
            var reEnterPassword = document.getElementById('reEnterPassword').value;
            var regExp = /[a-zA-Z0-9]/;
	
            if((currentPassword == null || currentPassword == '') || (newPassword == null || newPassword == '')){
                bootbox.alert("Empty password fields are not allowed!!!");
                return false;
            } else if(!regExp.test(currentPassword) || !regExp.test(newPassword)){
                bootbox.alert("Please enter a valid Password!!! Special characters and spaces are not allowed!!!");
                return false;
            }
	
            if(newPassword != reEnterPassword){
                bootbox.alert("New Password and Re-enter password don't match!!!");
                return false;
            }
            document.getElementById("form-submit").submit();
        }
    </script>
}
